#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__), *%w{ .. lib })

require 'burst'
require 'json'
require 'trollop'

config = {}
customs = {}

if File.exist?(ENV['HOME'] + '/.burstrc')
  config = JSON.parse(File.read(ENV['HOME'] + '/.burstrc'))
end

customs = config['customs'] if config.has_key?('customs')

opts = Trollop::options do
  opt :title, "Post title", :type => :string
end

Burst.go(opts, customs)
